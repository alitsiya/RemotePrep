<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div id="featured">
        <h3>Featured</h3></div>
    <div id="clearance">
        <h3>Clearance</h3></div>
    <div id="books">
    	<img src="" alt="">
        <h3>Books</h3></div>
        <div id="below20"><h3>Below 20$</h3></div>
        <div id="container"></div>
        <div id="index"></div>
    <script src="https://code.jquery.com/jquery-2.1.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
    <script>
    var products = [{
            name: "Go Set a Watchman",
            category: "books",
            selling_points: ["Controversial", "Publicity Bonanza", "Released by rapacious publishers against the wishes of senile author"],
            price: 25,
            picture_url: "https://upload.wikimedia.org/wikipedia/en/4/4e/US_cover_of_Go_Set_a_Watchman.jpg"
        }, {
            name: "Twilight",
            category: "books",
            selling_points: ["Doesn't make you think to hard", "Reinforces traditional gender-roles", "Doesn't make you think to hard"],
            price: 9.99,
            picture_url: "http://image.slidesharecdn.com/book-1-twilight-1231022548425199-1/95/book-1-twilight-1-728.jpg"
        }, {
            name: "How to Win Friends & Influence People",
            category: "books",
            selling_points: ["Timeless practical advice", "Actually useful and relevant to your life"],
            price: 8,
            picture_url: "http://htmlgiant.com/wp-content/uploads/2013/11/HowtoWinFriendsandInfluencePeopleCover.jpg"
        }, {
            name: "Dark Side of the Moon",
            category: "music",
            selling_points: ["Collector's Edition", "Trippy", "Good for late night existential crises"],
            price: 100,
            picture_url: "http://i.kinja-img.com/gawker-media/image/upload/s--9N1Ijk1t--/c_fit,fl_progressive,q_80,w_636/1940ob66cyu2ljpg.jpg"
        }, {
            name: "Thriller",
            category: "music",
            selling_points: ["Classic MJ", "The 80's greatest contribution to human progress"],
            price: 19,
            picture_url: "http://cps-static.rovicorp.com/3/JPG_400/MI0000/677/MI0000677650.jpg"
        }, {
            name: "Ella & Luis",
            category: "music",
            selling_points: ["How could you not?", "Seriously, though..."],
            price: 110,
            picture_url: "http://ecx.images-amazon.com/images/I/51713fx1VdL._SY300_.jpg"
        }]
        //first: Pass _.first() the array of products and display the returned object in a "featured" section of your site.
    var featured = _.first(products)
    $('#featured').append("Name: " + featured.name + " Category: " + featured.category + " Price: " + featured.price + '<img src="' + featured.picture_url + '" alt="">');
    //last: Pass _.last() the array of products and display the returned object in a "clearance" section of your site.
    var clearance = _.last(products)
    $('#clearance').append("Name: " + clearance.name + " Category: " + clearance.category + " Price: " + clearance.price + '<img src="' + clearance.picture_url + '" alt="">')

    //filter: Use _.filter() to display only products that belong to the "books" category.
    var books = _.filter(products, function(obj) {
        return obj.category === 'books';
    })
    console.log(books);
    books.forEach(function(obj) {
        $('#books').append("Name: " + obj.name + " Category: " + obj.category + " Price: " + obj.price + '<img src="' + obj.picture_url + '" alt=""><br>')
    });

    //reject: Use _.reject() to display only products that are priced below $20.
var below20 = _.reject(products, function(product) {
	return product.price > 20;
})
    below20.forEach(function(obj) {
        $('#below20').append("Name: " + obj.name + " Category: " + obj.category + " Price: " + obj.price + '<img src="' + obj.picture_url + '" alt=""><br>')
    });
//uniq: Use _.uniq() to ensure that their are no duplicate selling points in any products before displaying them.
productsuniq = _.uniq(products)
//map: Use _.map() to grab the picture_url of all products for sale, assign each to the src property of a new <img> tag and return that DOM element. Pass the result of calling _.map() directly into a $('#container').append() expression to create a photo montage.

var imgarr = _.map(products, function(product) {
	return '<img src="'+product.picture_url + '" alt="">'
})
$('#container').append(imgarr);
//pluck: Use _.pluck() to quickly retrieve a list of the names of all products for sale to list them in an index
var index = _.pluck(products, 'name');
index.forEach(function(val) {
	$('#index').append(val + '<br>');
});
//reduce: Pass a shopping cart (array of objects) to _.reduce() and use it to add up the total price of the order.
var total = _.reduce(products, function(memo, product){
	return memo + product.price
}, 0)
console.log(total);

//contains: Determine if the order _.contains() a copy of 'Twilight'. If so, display a drastic message to the user asking them to re-evaluate their life choices.
var hasTwilight = _.contains(index, 'Twilight')
console.log("Your order has Twilight " + hasTwilight);

//every: Use _.every() to determine if every item in the order has a price tag less than $10. If so, call the user a cheapskate!
var cheapskate = _.every(products, function(val){
	return val.price < 10
})
console.log(cheapskate);
//some: Use _.some() to determine if any item in the order has a price tag of $100 or more. If so, chide the user for their profligacy!
var profligacy = _.some(products, function(val){
	return val.price > 100
})
console.log("Order has a price tag of $100 or more " + profligacy)
//extend: Use _.extend() to merge two objects together. What would this be good for?
console.log(_.extend(products[0], products[1]));
    </script>
</body>

</html>